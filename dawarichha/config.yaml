name: "Dawarich"
description: "Self-hosted alternative to Google Timeline for location history tracking and visualization."
version: "0.3.0"
slug: "dawarich"
init: false
arch:
  - amd64
  - aarch64

startup: services
homeassistant_api: true
ingress: true
ingress_port: 3000
ingress_stream: true
panel_icon: "mdi:map-marker-path"
panel_title: "Dawarich"
ports:
  3000/tcp: 3000
map:
  - share:rw

webui: "http://[HOST]:[PORT:3000]"

options:
  POSTGRES_USER: "dawarich"
  POSTGRES_PASSWORD: "dawarich"
  POSTGRES_DB: "dawarich_production"
  SECRET_KEY_BASE: "please-change-me-to-a-random-string"
  TIME_ZONE: "Europe/Paris"
  LOCAL_HOST: "localhost"
  EXTERNAL_HOST: ""
  APPLICATION_PROTOCOL: "http"
  BACKGROUND_PROCESSING_CONCURRENCY: 10
  HA_BRIDGE_ENABLED: true
  DAWARICH_USERS:
    - ha_person: "fabrice"
      api_key: ""
    - ha_person: "katja"
      api_key: ""
  HOME_WIFI_NAMES:
    - "MyHomeWiFi"
  CAR_BLUETOOTH_DEVICES:
    - "Car Stereo"
  BRIDGE_MIN_DISTANCE_METERS: 50
  BRIDGE_INTERVAL_DRIVING: 10
  BRIDGE_INTERVAL_CYCLING: 15
  BRIDGE_INTERVAL_WALKING: 30
  BRIDGE_INTERVAL_STATIONARY: 300
  BRIDGE_INTERVAL_HOME: 0
  SMTP_SERVER: ""
  SMTP_PORT: 587
  SMTP_DOMAIN: ""
  SMTP_USERNAME: ""
  SMTP_PASSWORD: ""
  SMTP_FROM: ""

schema:
  POSTGRES_USER: str
  POSTGRES_PASSWORD: password
  POSTGRES_DB: str
  SECRET_KEY_BASE: password
  TIME_ZONE: str
  LOCAL_HOST: str
  EXTERNAL_HOST: str
  APPLICATION_PROTOCOL: "list(http|https)"
  BACKGROUND_PROCESSING_CONCURRENCY: int
  HA_BRIDGE_ENABLED: bool
  DAWARICH_USERS:
    - ha_person: str
      api_key: password
  HOME_WIFI_NAMES:
    - str
  CAR_BLUETOOTH_DEVICES:
    - str
  BRIDGE_MIN_DISTANCE_METERS: int
  BRIDGE_INTERVAL_DRIVING: int
  BRIDGE_INTERVAL_CYCLING: int
  BRIDGE_INTERVAL_WALKING: int
  BRIDGE_INTERVAL_STATIONARY: int
  BRIDGE_INTERVAL_HOME: int
  SMTP_SERVER: str
  SMTP_PORT: int
  SMTP_DOMAIN: str
  SMTP_USERNAME: str
  SMTP_PASSWORD: password
  SMTP_FROM: str
