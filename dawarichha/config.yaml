name: "Dawarich"
description: "Self-hosted alternative to Google Timeline for location history tracking and visualization."
version: "0.2.2"
slug: "dawarich"
init: false
arch:
  - amd64
  - aarch64

startup: services
homeassistant_api: true
ports:
  3000/tcp: 3000
map:
  - share:rw

webui: "http://[HOST]:[PORT:3000]"

options:
  POSTGRES_USER: "dawarich"
  POSTGRES_PASSWORD: "dawarich"
  POSTGRES_DB: "dawarich_production"
  SECRET_KEY_BASE: "please-change-me-to-a-random-string"
  TIME_ZONE: "Europe/Paris"
  APPLICATION_HOSTS: "localhost"
  APPLICATION_PROTOCOL: "http"
  BACKGROUND_PROCESSING_CONCURRENCY: 10
  HA_BRIDGE_ENABLED: true
  DAWARICH_USERS:
    - ha_person: "person.fabrice"
      api_key: ""
    - ha_person: "person.katja"
      api_key: ""
  HOME_WIFI_SSIDS:
    - "MyHomeWiFi"
  CAR_BLUETOOTH_DEVICES:
    - "Car Stereo"
  BRIDGE_MIN_DISTANCE_METERS: 50
  BRIDGE_INTERVAL_DRIVING: 10
  BRIDGE_INTERVAL_CYCLING: 15
  BRIDGE_INTERVAL_WALKING: 30
  BRIDGE_INTERVAL_STATIONARY: 300
  BRIDGE_INTERVAL_HOME: 0

schema:
  POSTGRES_USER: str
  POSTGRES_PASSWORD: password
  POSTGRES_DB: str
  SECRET_KEY_BASE: password
  TIME_ZONE: str
  APPLICATION_HOSTS: str
  APPLICATION_PROTOCOL: "list(http|https)"
  BACKGROUND_PROCESSING_CONCURRENCY: int
  HA_BRIDGE_ENABLED: bool
  DAWARICH_USERS:
    - ha_person: str
      api_key: password
  HOME_WIFI_SSIDS:
    - str
  CAR_BLUETOOTH_DEVICES:
    - str
  BRIDGE_MIN_DISTANCE_METERS: int
  BRIDGE_INTERVAL_DRIVING: int
  BRIDGE_INTERVAL_CYCLING: int
  BRIDGE_INTERVAL_WALKING: int
  BRIDGE_INTERVAL_STATIONARY: int
  BRIDGE_INTERVAL_HOME: int
